(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3838],{74196:function(e,a,r){Promise.resolve().then(r.bind(r,22542))},22542:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return C}});var s=r(3827),t=r(64090),l=r(47907),i=r(20703),n=r(85754),d=r(45179),o=r(49842),c=r(23444),h=r(27815),m=r(26863),u=r(53879),p=r(42527),x=r(62457),g=r(48219),f=r(29467),y=r(57842),v=r(77326),j=r(65561),b=r(52235),N=r(97336);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,r(57977).Z)("View",[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]]);var k=r(79580),Z=r(28877);function C(){let e=(0,l.useRouter)(),[a,r]=(0,t.useState)(!1),[C,F]=(0,t.useState)(""),[_,I]=(0,t.useState)([]),[M,P]=(0,t.useState)([]),[A,q]=(0,t.useState)({propertyName:"",propertyType:"house",address:"",price:"",squareFootage:"",bedrooms:"",bathrooms:"",yearBuilt:"",description:"",features:"",status:"available",images:[],image360:[]}),z=(e,a)=>{q(r=>({...r,[e]:a}))},E=e=>{I(a=>a.filter((a,r)=>r!==e)),q(a=>({...a,images:a.images.filter((a,r)=>r!==e)}))},S=e=>{P(a=>a.filter((a,r)=>r!==e)),q(a=>({...a,image360:a.image360.filter((a,r)=>r!==e)}))},L=async()=>{try{r(!0);let a={...A,id:Date.now().toString(),mainImage:C,images:_,image360:M};Z.c.addProperty(a),e.push("/inventory")}catch(e){console.error("Error saving property:",e)}finally{r(!1)}};return(0,s.jsx)(m.c,{children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,s.jsxs)(n.z,{variant:"ghost",onClick:()=>e.back(),children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Add New Property"})]}),(0,s.jsx)("div",{className:"max-w-4xl",children:(0,s.jsx)(h.Zb,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"propertyType",children:"Property Type"}),(0,s.jsxs)("select",{id:"propertyType",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",value:A.propertyType,onChange:e=>z("propertyType",e.target.value),children:[(0,s.jsx)("option",{value:"house",children:"House"}),(0,s.jsx)("option",{value:"apartment",children:"Apartment"}),(0,s.jsx)("option",{value:"condo",children:"Condo"}),(0,s.jsx)("option",{value:"land",children:"Land"}),(0,s.jsx)("option",{value:"commercial",children:"Commercial"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"propertyName",children:"Property Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"propertyName",value:A.propertyName,onChange:e=>z("propertyName",e.target.value),placeholder:"Enter property name",className:"pl-10"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"address",children:"Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"address",value:A.address,onChange:e=>z("address",e.target.value),placeholder:"Enter property address",className:"pl-10"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"price",children:"Price"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"price",type:"number",value:A.price,onChange:e=>z("price",e.target.value),placeholder:"Enter price",className:"pl-10"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"squareFootage",children:"Square Footage"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"squareFootage",type:"number",value:A.squareFootage,onChange:e=>z("squareFootage",e.target.value),placeholder:"Enter square footage",className:"pl-10"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"bedrooms",children:"Bedrooms"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"bedrooms",type:"number",value:A.bedrooms,onChange:e=>z("bedrooms",e.target.value),placeholder:"Number of bedrooms",className:"pl-10"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"bathrooms",children:"Bathrooms"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"bathrooms",type:"number",value:A.bathrooms,onChange:e=>z("bathrooms",e.target.value),placeholder:"Number of bathrooms",className:"pl-10"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"yearBuilt",children:"Year Built"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(v.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,s.jsx)(d.I,{id:"yearBuilt",type:"number",value:A.yearBuilt,onChange:e=>z("yearBuilt",e.target.value),placeholder:"Year built",className:"pl-10"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"description",children:"Description"}),(0,s.jsx)(c.g,{id:"description",value:A.description,onChange:e=>z("description",e.target.value),placeholder:"Enter property description",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"features",children:"Features"}),(0,s.jsx)(c.g,{id:"features",value:A.features,onChange:e=>z("features",e.target.value),placeholder:"Enter property features (e.g., garage, pool, renovated kitchen)",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)("select",{id:"status",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",value:A.status,onChange:e=>z("status",e.target.value),children:[(0,s.jsx)("option",{value:"available",children:"Available"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"sold",children:"Sold"})]})]}),(0,s.jsxs)("div",{className:"space-y-6 border-t pt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Property Images"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"mainImage",children:"Main Property Image"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(d.I,{id:"mainImage",type:"file",accept:"image/*",onChange:e=>{var a;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(r){let e=new FileReader;e.onloadend=()=>{let a=e.result;F(a),q(e=>({...e,mainImage:a}))},e.readAsDataURL(r)}},className:"hidden"}),(0,s.jsx)(o._,{htmlFor:"mainImage",className:"flex items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary",children:C?(0,s.jsx)(i.default,{src:C,alt:"Main property image",width:128,height:128,className:"object-cover rounded-lg"}):(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(j.Z,{className:"w-8 h-8 text-gray-400"}),(0,s.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Main Image"})]})})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"propertyImages",children:"Additional Property Images"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[_.map((e,a)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.default,{src:e,alt:"Property image ".concat(a+1),width:128,height:128,className:"object-cover rounded-lg"}),(0,s.jsx)(n.z,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 w-6 h-6",onClick:()=>E(a),children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})})]},a)),(0,s.jsx)(d.I,{id:"propertyImages",type:"file",accept:"image/*",multiple:!0,onChange:e=>{let a=e.target.files;a&&Array.from(a).forEach(e=>{let a=new FileReader;a.onloadend=()=>{let e=a.result;I(a=>[...a,e]),q(a=>({...a,images:[...a.images,e]}))},a.readAsDataURL(e)})},className:"hidden"}),(0,s.jsxs)(o._,{htmlFor:"propertyImages",className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary",children:[(0,s.jsx)(N.Z,{className:"w-8 h-8 text-gray-400"}),(0,s.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Add Photos"})]})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"360images",children:"360\xb0 Views"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[M.map((e,a)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.default,{src:e,alt:"360\xb0 view ".concat(a+1),width:128,height:128,className:"object-cover rounded-lg"}),(0,s.jsx)(n.z,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 w-6 h-6",onClick:()=>S(a),children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 bg-black/50 rounded-full p-1",children:(0,s.jsx)(w,{className:"w-4 h-4 text-white"})})]},a)),(0,s.jsx)(d.I,{id:"360images",type:"file",accept:"image/*",multiple:!0,onChange:e=>{let a=e.target.files;a&&Array.from(a).forEach(e=>{let a=new FileReader;a.onloadend=()=>{let e=a.result;P(a=>[...a,e]),q(a=>({...a,image360:[...a.image360,e]}))},a.readAsDataURL(e)})},className:"hidden"}),(0,s.jsxs)(o._,{htmlFor:"360images",className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary",children:[(0,s.jsx)(w,{className:"w-8 h-8 text-gray-400"}),(0,s.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Add 360\xb0 Views"})]})]})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)(n.z,{variant:"outline",onClick:()=>e.back(),children:"Cancel"}),(0,s.jsx)(n.z,{onClick:L,disabled:a,children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Property"})]})]})})})]})})}},49842:function(e,a,r){"use strict";r.d(a,{_:function(){return o}});var s=r(3827),t=r(64090),l=r(24602),i=r(49769),n=r(1657);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(l.f,{ref:a,className:(0,n.cn)(d(),r),...t})});o.displayName=l.f.displayName},23444:function(e,a,r){"use strict";r.d(a,{g:function(){return i}});var s=r(3827),t=r(64090),l=r(1657);let i=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...t})});i.displayName="Textarea"},53879:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},97336:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},49108:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},48219:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},57842:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},42527:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},65561:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},79580:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},62457:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},29467:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(57977).Z)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]])},24602:function(e,a,r){"use strict";r.d(a,{f:function(){return n}});var s=r(64090),t=r(29586),l=r(3827),i=s.forwardRef((e,a)=>(0,l.jsx)(t.WV.label,{...e,ref:a,onMouseDown:a=>{var r;a.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i}},function(e){e.O(0,[6860,9593,8792,162,703,4885,4011,6863,2971,8069,1744],function(){return e(e.s=74196)}),_N_E=e.O()}]);