(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7828],{8990:function(e,t,s){Promise.resolve().then(s.bind(s,4342))},4342:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j},dynamic:function(){return f},fetchCache:function(){return x},revalidate:function(){return y}});var a=s(3827),l=s(64090),r=s(26863),n=s(27815),i=s(85754),c=s(45179),d=s(49842),o=s(23444),u=s(47788),m=s(70094),p=s(70699),h=s(50489);let f="force-dynamic",x="force-no-store",y=0;function j(){let{toast:e}=(0,u.pm)(),[t,s]=(0,l.useState)([]),[f,x]=(0,l.useState)(null),[y,j]=(0,l.useState)(!1),[v,b]=(0,l.useState)({name:"",subject:"",body:"",type:"custom"}),g=a=>{try{let l=t.filter(e=>e.id!==a);s(l),localStorage.setItem("emailTemplates",JSON.stringify(l)),e({title:"Success",description:"Template deleted successfully"})}catch(t){e({variant:"destructive",title:"Error",description:"Failed to delete template"})}};return(0,a.jsx)(r.c,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Email Templates"}),(0,a.jsxs)(i.z,{onClick:()=>{j(!1),x(null),b({name:"",subject:"",body:"",type:"custom"})},className:"bg-red-500 hover:bg-red-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"Template List"})}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===t.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No templates found"}):t.map(e=>(0,a.jsx)("div",{className:"p-4 rounded-lg border ".concat((null==f?void 0:f.id)===e.id?"border-red-500 bg-red-500/10":"border-gray-700"),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.subject})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>{x(e),j(!0),b({name:e.name,subject:e.subject,body:e.body,type:e.type})},children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>g(e.id),className:"text-red-500 hover:text-red-600",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})]})]})},e.id))})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:y?"Edit Template":"Create Template"})}),(0,a.jsx)(n.aY,{children:(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault();try{if(y&&f){let e=t.map(e=>e.id===f.id?{...v,id:e.id}:e);s(e),localStorage.setItem("emailTemplates",JSON.stringify(e))}else{let e={...v,id:Date.now().toString()},a=[...t,e];s(a),localStorage.setItem("emailTemplates",JSON.stringify(a))}e({title:"Success",description:"Template ".concat(y?"updated":"created"," successfully")}),j(!1),x(null),b({name:"",subject:"",body:"",type:"custom"})}catch(t){e({variant:"destructive",title:"Error",description:"Failed to ".concat(y?"update":"create"," template")})}},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"name",children:"Template Name"}),(0,a.jsx)(c.I,{id:"name",value:v.name,onChange:e=>b({...v,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"subject",children:"Email Subject"}),(0,a.jsx)(c.I,{id:"subject",value:v.subject,onChange:e=>b({...v,subject:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"type",children:"Template Type"}),(0,a.jsxs)("select",{id:"type",value:v.type,onChange:e=>b({...v,type:e.target.value}),className:"w-full p-2 rounded-md border border-gray-700 bg-gray-800",children:[(0,a.jsx)("option",{value:"welcome",children:"Welcome Email"}),(0,a.jsx)("option",{value:"follow-up",children:"Follow-up"}),(0,a.jsx)("option",{value:"showing",children:"Showing Confirmation"}),(0,a.jsx)("option",{value:"offer",children:"Offer Response"}),(0,a.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"body",children:"Email Body"}),(0,a.jsx)(o.g,{id:"body",value:v.body,onChange:e=>b({...v,body:e.target.value}),required:!0,rows:10})]}),(0,a.jsx)(i.z,{type:"submit",className:"w-full",children:y?"Update Template":"Create Template"})]})})]})]})]})})}},49842:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(3827),l=s(64090),r=s(24602),n=s(49769),i=s(1657);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,i.cn)(c(),s),...l})});d.displayName=r.f.displayName},23444:function(e,t,s){"use strict";s.d(t,{g:function(){return n}});var a=s(3827),l=s(64090),r=s(1657);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});n.displayName="Textarea"},49108:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(57977).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},70094:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(57977).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},70699:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(57977).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},50489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(57977).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},24602:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var a=s(64090),l=s(29586),r=s(3827),n=a.forwardRef((e,t)=>(0,r.jsx)(l.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n}},function(e){e.O(0,[6860,9593,8792,162,703,4885,4011,6863,2971,8069,1744],function(){return e(e.s=8990)}),_N_E=e.O()}]);