(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6212],{1372:function(e,t,a){Promise.resolve().then(a.bind(a,94043))},94043:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(3827),r=a(64090),l=a(47907),n=a(79949),d=a(27815),o=a(47788),i=a(19160),c=a(26863);let u={name:"",email:"",phone:"",address:"",leadStatus:"cold",leadType:"buyer",source:"",notes:"",assignedTo:"",leadResponse:"",clientType:""};function f(){let e=(0,l.useRouter)(),{toast:t}=(0,o.pm)(),[a,n]=(0,r.useState)([]),[i,f]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),[h,b]=(0,r.useState)(u),[x,v]=(0,r.useState)(null),[y,N]=(0,r.useState)(!0),[w,j]=(0,r.useState)(""),[g,S]=(0,r.useState)(!1),[T,R]=(0,r.useState)({leadStatus:"",leadType:"",leadSource:"",leadResponse:"",clientType:""});(0,r.useEffect)(()=>{C()},[]);let C=async()=>{try{let t=localStorage.getItem("user");if(!t){e.push("/login");return}let a=JSON.parse(t),s=await fetch("/api/leads?assignedTo=".concat(a._id)),r=await s.json();n(r.filter(e=>e.assignedTo===a._id)),N(!1)}catch(e){console.error("Error fetching leads:",e),t({variant:"destructive",title:"Error",description:"Failed to fetch leads"}),N(!1)}};return(a.filter(e=>{var t,a,s,r;let l=""===w||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(w.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(w.toLowerCase()))||(null===(s=e.phone)||void 0===s?void 0:s.toLowerCase().includes(w.toLowerCase()))||(null===(r=e.address)||void 0===r?void 0:r.toLowerCase().includes(w.toLowerCase())),n=(""===T.leadStatus||e.leadStatus===T.leadStatus)&&(""===T.leadType||e.leadType===T.leadType)&&(""===T.leadSource||e.source===T.leadSource)&&(""===T.leadResponse||e.leadResponse===T.leadResponse)&&(""===T.clientType||e.clientType===T.clientType);return l&&n}),y)?(0,s.jsxs)("div",{className:"p-6 animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 w-48 bg-gray-800 rounded mb-6"}),(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-16 bg-gray-800 rounded"},t))})]}):(0,s.jsx)(c.c,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Leads"}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Lead Management"})}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("p",{className:"text-gray-500",children:"No leads found"})})]})]})})}(0,n.E)(i.SC)},19160:function(e,t,a){"use strict";a.d(t,{RM:function(){return o},SC:function(){return i},iA:function(){return n},pj:function(){return u},ss:function(){return c},xD:function(){return d}});var s=a(3827),r=a(64090),l=a(1657);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...r})});d.displayName="TableHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});o.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});i.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},49108:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(57977).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])}},function(e){e.O(0,[6860,9593,8792,162,703,4885,9949,4011,6863,2971,8069,1744],function(){return e(e.s=1372)}),_N_E=e.O()}]);