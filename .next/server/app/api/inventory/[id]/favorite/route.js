"use strict";(()=>{var e={};e.id=4544,e.ids=[4544],e.modules={38013:e=>{e.exports=require("mongodb")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},19047:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>y});var o={};r.r(o),r.d(o,{PUT:()=>c});var n=r(95419),a=r(69108),i=r(99678),s=r(78070),u=r(22345),d=r(38013);async function c(e,{params:t}){try{let{db:r}=await (0,u.v)(),{id:o}=t,{isFavorite:n}=await e.json();if(!o||!d.ObjectId.isValid(o))return s.Z.json({error:"Invalid item ID"},{status:400});if(!await r.collection("inventory").findOne({_id:new d.ObjectId(o)}))return s.Z.json({error:"Item not found"},{status:404});let a=await r.collection("inventory").updateOne({_id:new d.ObjectId(o)},{$set:{isFavorite:n,lastUpdated:new Date().toISOString()}});if(0===a.modifiedCount)return s.Z.json({error:"Failed to update favorite status"},{status:500});return s.Z.json({success:!0})}catch(e){return console.error("Error updating favorite status:",e),s.Z.json({error:"Failed to update favorite status"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/inventory/[id]/favorite/route",pathname:"/api/inventory/[id]/favorite",filename:"route",bundlePath:"app/api/inventory/[id]/favorite/route"},resolvedPagePath:"/Users/chakrinaidu/Desktop/gethomerealty-verson-2/app/api/inventory/[id]/favorite/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:v,serverHooks:f,headerHooks:m,staticGenerationBailout:y}=l,h="/api/inventory/[id]/favorite/route";function g(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}},22345:(e,t,r)=>{let o;r.d(t,{v:()=>i});var n=r(38013);if(!process.env.MONGODB_URI)throw Error("Please add your Mongo URI to .env.local");let a=process.env.MONGODB_URI;async function i(){try{let e=await o;return{db:e.db(),client:e}}catch(e){throw console.error("MongoDB connection error:",e),e}}o=new n.MongoClient(a,{connectTimeoutMS:1e4,socketTimeoutMS:45e3,serverSelectionTimeoutMS:5e3,maxPoolSize:10,retryWrites:!0,retryReads:!0}).connect()}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[1638,6206],()=>r(19047));module.exports=o})();