(()=>{var e={};e.id=5917,e.ids=[5917],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},97742:e=>{"use strict";e.exports=require("node:process")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},52982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>n,routeModule:()=>p,tree:()=>o});var r=t(50482),a=t(69108),i=t(62563),l=t.n(i),c=t(68300),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);t.d(s,d);let o=["",{children:["user",{children:["lead",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,88710)),"/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/lead/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,44976)),"/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,65378)),"/Users/chakrinaidu/Desktop/Gethomerealty-production/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],n=["/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/lead/page.tsx"],u="/user/lead/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/user/lead/page",pathname:"/user/lead",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},16223:(e,s,t)=>{Promise.resolve().then(t.bind(t,17583))},17583:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v,dynamic:()=>f,fetchCache:()=>j,revalidate:()=>N});var r=t(95344),a=t(3729),i=t(8428),l=t(53833),c=t(61351),d=t(16212),o=t(25092),n=t(81036),u=t(28240),x=t(40626),p=t(71206),h=t(80508),m=t(53148),y=t(26075),g=t(38271);let f="force-dynamic",j="force-no-store",N=0;function v(){let e=(0,i.useRouter)(),{toast:s}=(0,o.pm)(),[t,f]=(0,a.useState)([]),[j,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{let s=localStorage.getItem("user");if(!s){e.push("/login");return}let t=JSON.parse(s),r=await fetch(`/api/leads?assignedTo=${t._id}`),a=await r.json();f(a.filter(e=>e.assignedTo===t._id)),N(!1)}catch(e){console.error("Error fetching leads:",e),s({variant:"destructive",title:"Error",description:"Failed to fetch leads"}),N(!1)}},b=async e=>{try{if(!(await fetch(`/api/leads/${e}`,{method:"DELETE"})).ok)throw Error();s({title:"Success",description:"Lead deleted successfully"}),v()}catch(e){s({variant:"destructive",title:"Error",description:"Failed to delete lead"})}},k=e=>{switch(e.toLowerCase()){case"cold":return"text-blue-400 bg-blue-400/10";case"warm":return"text-yellow-400 bg-yellow-400/10";case"hot":return"text-red-400 bg-red-400/10";case"mild":return"text-green-400 bg-green-400/10";default:return"text-gray-400 bg-gray-400/10"}};return j?r.jsx(l.c,{children:(0,r.jsxs)("div",{className:"p-6 animate-pulse",children:[r.jsx("div",{className:"h-8 w-48 bg-gray-800 rounded mb-6"}),r.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>r.jsx("div",{className:"h-16 bg-gray-800 rounded"},s))})]})}):r.jsx(l.c,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:"Leads"}),(0,r.jsxs)(d.z,{onClick:()=>e.push("/user/lead/new"),className:"bg-red-500 hover:bg-red-600",children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Add New Lead"]})]}),(0,r.jsxs)(c.Zb,{className:"bg-gray-800 border-gray-700",children:[r.jsx(c.Ol,{children:r.jsx(c.ll,{className:"text-gray-100",children:"All Leads"})}),r.jsx(c.aY,{children:(0,r.jsxs)(n.iA,{children:[r.jsx(n.xD,{children:(0,r.jsxs)(n.SC,{className:"border-gray-700",children:[r.jsx(n.ss,{className:"text-gray-400",children:"Name"}),r.jsx(n.ss,{className:"text-gray-400",children:"Contact"}),r.jsx(n.ss,{className:"text-gray-400",children:"Status"}),r.jsx(n.ss,{className:"text-gray-400",children:"Type"}),r.jsx(n.ss,{className:"text-gray-400",children:"Source"}),r.jsx(n.ss,{className:"text-gray-400",children:"Created"}),r.jsx(n.ss,{className:"text-gray-400 text-right",children:"Actions"})]})}),r.jsx(n.RM,{children:0===t.length?r.jsx(n.SC,{children:r.jsx(n.pj,{colSpan:7,className:"text-center text-gray-400 py-4",children:"No leads found"})}):t.map(s=>(0,r.jsxs)(n.SC,{className:"border-gray-700",children:[r.jsx(n.pj,{className:"font-medium text-gray-100",children:r.jsx(d.z,{variant:"link",className:"p-0 h-auto font-medium text-gray-100 hover:text-gray-300",onClick:()=>e.push(`/user/lead/${s._id}`),children:s.name})}),r.jsx(n.pj,{children:(0,r.jsxs)("div",{className:"space-y-1 text-gray-300",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2 text-gray-400"}),s.phone]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2 text-gray-400"}),s.email]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2 text-gray-400"}),s.address]})]})}),r.jsx(n.pj,{children:r.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(s.leadStatus)}`,children:s.leadStatus.charAt(0).toUpperCase()+s.leadStatus.slice(1)})}),r.jsx(n.pj,{className:"text-gray-300",children:s.leadType}),r.jsx(n.pj,{className:"text-gray-300",children:s.source}),r.jsx(n.pj,{className:"text-gray-300",children:new Date(s.createdAt).toLocaleDateString()}),r.jsx(n.pj,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx(d.z,{variant:"ghost",size:"sm",onClick:()=>e.push(`/user/lead/${s._id}`),className:"h-8 w-8 p-0",children:r.jsx(m.Z,{className:"h-4 w-4 text-gray-400"})}),r.jsx(d.z,{variant:"ghost",size:"sm",onClick:()=>e.push(`/user/lead/${s._id}/edit`),className:"h-8 w-8 p-0",children:r.jsx(y.Z,{className:"h-4 w-4 text-gray-400"})}),r.jsx(d.z,{variant:"ghost",size:"sm",onClick:()=>b(s._id),className:"h-8 w-8 p-0 hover:text-red-400",children:r.jsx(g.Z,{className:"h-4 w-4"})})]})})]},s._id))})]})})]})]})})}},81036:(e,s,t)=>{"use strict";t.d(s,{RM:()=>d,SC:()=>o,iA:()=>l,pj:()=>u,ss:()=>n,xD:()=>c});var r=t(95344),a=t(3729),i=t(91626);let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",e),...s})}));l.displayName="Table";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",e),...s}));c.displayName="TableHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",a.forwardRef(({className:e,...s},t)=>r.jsx("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));o.displayName="TableRow";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));n.displayName="TableHead";let u=a.forwardRef(({className:e,...s},t)=>r.jsx("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));u.displayName="TableCell",a.forwardRef(({className:e,...s},t)=>r.jsx("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},71532:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(97075).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},53148:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(97075).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},80508:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(97075).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},26075:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(97075).Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},38271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(97075).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},28240:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(97075).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},88710:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>u,dynamic:()=>d,fetchCache:()=>o,revalidate:()=>n});var r=t(86843);let a=(0,r.createProxy)(String.raw`/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/lead/page.tsx`),{__esModule:i,$$typeof:l}=a,c=a.default,d=(0,r.createProxy)(String.raw`/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/lead/page.tsx#dynamic`),o=(0,r.createProxy)(String.raw`/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/lead/page.tsx#fetchCache`),n=(0,r.createProxy)(String.raw`/Users/chakrinaidu/Desktop/Gethomerealty-production/app/user/lead/page.tsx#revalidate`),u=c}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,8139,4579,8749,9410,4672,5502,9494,8606,3833,9870],()=>t(52982));module.exports=r})();