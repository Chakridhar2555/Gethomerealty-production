(()=>{var e={};e.id=9706,e.ids=[9706],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},97742:e=>{"use strict";e.exports=require("node:process")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},72136:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>c});var t=r(50482),i=r(69108),n=r(62563),a=r.n(n),o=r(68300),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let c=["",{children:["users",{children:["permissions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,23883)),"/Users/chakrinaidu/Desktop/Gethomerealty-production/app/users/permissions/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,65378)),"/Users/chakrinaidu/Desktop/Gethomerealty-production/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/chakrinaidu/Desktop/Gethomerealty-production/app/users/permissions/page.tsx"],u="/users/permissions/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/users/permissions/page",pathname:"/users/permissions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96302:(e,s,r)=>{Promise.resolve().then(r.bind(r,79352))},79352:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var t=r(95344),i=r(3729),n=r(53833),a=r(61351),o=r(84332),d=r(16212),c=r(81036),l=r(8428),u=r(25092);let p=[{id:"dashboard",name:"Dashboard"},{id:"lead",name:"Lead Management"},{id:"inventory",name:"Inventory"},{id:"calendar",name:"Calendar"},{id:"users",name:"Users"},{id:"settings",name:"Settings"},{id:"favorites",name:"Favorites"},{id:"inbox",name:"Inbox"},{id:"mls",name:"MLS"}];function m(){let e=(0,l.useSearchParams)(),s=e?.get("userId"),[r,n]=(0,i.useState)([]),m=(0,l.useRouter)(),{toast:x}=(0,u.pm)();(0,i.useEffect)(()=>{if(!s){m.push("/users");return}n(p.map(e=>({moduleId:e.id,moduleName:e.name,canView:!1,canAdd:!1,canEdit:!1,canDelete:!1})))},[s,m]);let h=(e,s,t)=>{n(r.map(r=>r.moduleId===e?{...r,[s]:t}:r))},f=async()=>{try{let e=await fetch(`/api/users/${s}/permissions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({permissions:r})});if(!e.ok)throw Error("Failed to save permissions");let t=await e.json(),i=JSON.parse(localStorage.getItem("userPermissions")||"[]");localStorage.setItem("userPermissions",JSON.stringify([...i.filter(e=>e.userId!==s),{userId:s,permissions:t.permissions}])),x({title:"Success",description:"Permissions saved successfully."}),m.push("/users")}catch(e){console.error("Error saving permissions:",e),x({title:"Error",description:"Failed to save permissions. Please try again.",variant:"destructive"})}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"User Permissions"}),t.jsx(d.z,{onClick:f,className:"bg-[#ef4444] hover:bg-[#dc2626] text-white",children:"Save Changes"})]}),(0,t.jsxs)(a.Zb,{children:[t.jsx(a.Ol,{children:t.jsx(a.ll,{children:"Module Permissions"})}),t.jsx(a.aY,{children:(0,t.jsxs)(c.iA,{children:[t.jsx(c.xD,{children:(0,t.jsxs)(c.SC,{children:[t.jsx(c.ss,{children:"Module Name"}),t.jsx(c.ss,{children:"View"}),t.jsx(c.ss,{children:"Add"}),t.jsx(c.ss,{children:"Edit"}),t.jsx(c.ss,{children:"Delete"})]})}),t.jsx(c.RM,{children:r.map(e=>(0,t.jsxs)(c.SC,{children:[t.jsx(c.pj,{children:e.moduleName}),t.jsx(c.pj,{children:t.jsx(o.X,{checked:e.canView,onCheckedChange:s=>h(e.moduleId,"canView",!!s)})}),t.jsx(c.pj,{children:t.jsx(o.X,{checked:e.canAdd,onCheckedChange:s=>h(e.moduleId,"canAdd",!!s)})}),t.jsx(c.pj,{children:t.jsx(o.X,{checked:e.canEdit,onCheckedChange:s=>h(e.moduleId,"canEdit",!!s)})}),t.jsx(c.pj,{children:t.jsx(o.X,{checked:e.canDelete,onCheckedChange:s=>h(e.moduleId,"canDelete",!!s)})})]},e.moduleId))})]})})]})]})}function x(){return t.jsx(n.c,{children:t.jsx(i.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"text-center",children:"Loading permissions..."})}),children:t.jsx(m,{})})})}},84332:(e,s,r)=>{"use strict";r.d(s,{X:()=>C});var t=r(95344),i=r(3729),n=r(31405),a=r(98462),o=r(85222),d=r(27149),c=r(92062),l=r(63085),u=r(43234),p=r(62409),m="Checkbox",[x,h]=(0,a.b)(m),[f,b]=x(m),j=i.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:a,checked:c,defaultChecked:l,required:u,disabled:m,value:x="on",onCheckedChange:h,form:b,...j}=e,[y,g]=i.useState(null),w=(0,n.e)(s,e=>g(e)),N=i.useRef(!1),C=!y||b||!!y.closest("form"),[P=!1,E]=(0,d.T)({prop:c,defaultProp:l,onChange:h}),R=i.useRef(P);return i.useEffect(()=>{let e=y?.form;if(e){let s=()=>E(R.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[y,E]),(0,t.jsxs)(f,{scope:r,state:P,disabled:m,children:[(0,t.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":k(P)?"mixed":P,"aria-required":u,"data-state":q(P),"data-disabled":m?"":void 0,disabled:m,value:x,...j,ref:w,onKeyDown:(0,o.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.M)(e.onClick,e=>{E(e=>!!k(e)||!e),C&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),C&&(0,t.jsx)(v,{control:y,bubbles:!N.current,name:a,value:x,checked:P,required:u,disabled:m,form:b,style:{transform:"translateX(-100%)"},defaultChecked:!k(l)&&l})]})});j.displayName=m;var y="CheckboxIndicator",g=i.forwardRef((e,s)=>{let{__scopeCheckbox:r,forceMount:i,...n}=e,a=b(y,r);return(0,t.jsx)(u.z,{present:i||k(a.state)||!0===a.state,children:(0,t.jsx)(p.WV.span,{"data-state":q(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...e.style}})})});g.displayName=y;var v=e=>{let{control:s,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,d=i.useRef(null),u=(0,c.D)(r),p=(0,l.t)(s);i.useEffect(()=>{let e=d.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==r&&s){let t=new Event("click",{bubbles:n});e.indeterminate=k(r),s.call(e,!k(r)&&r),e.dispatchEvent(t)}},[u,r,n]);let m=i.useRef(!k(r)&&r);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...o,tabIndex:-1,ref:d,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(e){return"indeterminate"===e}function q(e){return k(e)?"indeterminate":e?"checked":"unchecked"}var w=r(62312),N=r(91626);let C=i.forwardRef(({className:e,...s},r)=>t.jsx(j,{ref:r,className:(0,N.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(g,{className:(0,N.cn)("flex items-center justify-center text-current"),children:t.jsx(w.Z,{className:"h-4 w-4"})})}));C.displayName=j.displayName},81036:(e,s,r)=>{"use strict";r.d(s,{RM:()=>d,SC:()=>c,iA:()=>a,pj:()=>u,ss:()=>l,xD:()=>o});var t=r(95344),i=r(3729),n=r(91626);let a=i.forwardRef(({className:e,...s},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",e),...s})}));a.displayName="Table";let o=i.forwardRef(({className:e,...s},r)=>t.jsx("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",e),...s}));o.displayName="TableHeader";let d=i.forwardRef(({className:e,...s},r)=>t.jsx("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",i.forwardRef(({className:e,...s},r)=>t.jsx("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=i.forwardRef(({className:e,...s},r)=>t.jsx("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let l=i.forwardRef(({className:e,...s},r)=>t.jsx("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));l.displayName="TableHead";let u=i.forwardRef(({className:e,...s},r)=>t.jsx("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));u.displayName="TableCell",i.forwardRef(({className:e,...s},r)=>t.jsx("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},71532:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(97075).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},23883:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>a});let t=(0,r(86843).createProxy)(String.raw`/Users/chakrinaidu/Desktop/Gethomerealty-production/app/users/permissions/page.tsx`),{__esModule:i,$$typeof:n}=t,a=t.default},92062:(e,s,r)=>{"use strict";r.d(s,{D:()=>i});var t=r(3729);function i(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[1638,8139,4579,8749,9410,9494,8606,3833],()=>r(72136));module.exports=t})();